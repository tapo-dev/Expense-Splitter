<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="RoommateApp.Maui.Views.CreateGroupPage"
             Title="Vytvořit novou skupinu">
    
    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">
            
            <!-- Název skupiny -->
            <Label Text="Název skupiny" FontAttributes="Bold" FontSize="16"/>
            <Entry x:Name="NazevEntry" 
                   Placeholder="Zadejte název skupiny" 
                   FontSize="16"
                   HeightRequest="45"/>
            
            <!-- Výběr členů -->
            <Label Text="Vyberte členy skupiny" FontAttributes="Bold" FontSize="16" Margin="0,10,0,0"/>
            
            <!-- Vyhledávání uživatelů -->
            <Entry x:Name="VyhledavaniEntry" 
                   Placeholder="Vyhledat uživatele podle jména nebo emailu"
                   TextChanged="OnVyhledavaniTextChanged"
                   FontSize="14"
                   HeightRequest="40"/>
            
            <!-- Seznam všech uživatelů -->
            <Frame BackgroundColor="#f0f0f0" Padding="10" CornerRadius="10" HeightRequest="300">
                <ScrollView>
                    <StackLayout x:Name="UzivateleContainer" Spacing="5">
                        <!-- Dynamický přidávání -->
                    </StackLayout>
                </ScrollView>
            </Frame>
            
            <!-- Vybraní členové -->
            <Label Text="Vybraní členové:" FontAttributes="Bold" Margin="0,10,0,0"/>
            <Label x:Name="VybraniClenoveLabel" Text="Zatím nikdo" TextColor="Gray"/>
            
            <!-- Error message -->
            <Label x:Name="ErrorLabel" 
                   TextColor="Red" 
                   IsVisible="False"
                   FontSize="14"/>
            
            <!-- Tlačítka -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="0,20,0,0">
                <Button Grid.Column="0" 
                        Text="Zrušit" 
                        BackgroundColor="Gray" 
                        TextColor="White"
                        Clicked="OnCancelClicked"
                        CornerRadius="10"
                        HeightRequest="45"/>
                <Button Grid.Column="1" 
                        Text="Vytvořit skupinu" 
                        BackgroundColor="DodgerBlue" 
                        TextColor="White"
                        Clicked="OnCreateClicked"
                        CornerRadius="10"
                        HeightRequest="45"/>
            </Grid>
            
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>